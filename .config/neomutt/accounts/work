# vim: filetype=muttrc
unmailboxes *

# in/out mail servers
set realname                   = "Alberto Tallone"
# set hostname                   = "uva.nl"
set imap_user                  = "a.tallone@oliocarli.it"
set smtp_pass                  = $my_uvapass
set imap_pass                  = $my_uvapass
set folder                     = "imaps://a.tallone@oliocarli.it@outlook.office365.com"
set spoolfile                  = "+INBOX"
set smtp_url                   = "smtp://a.tallone@oliocarli.it@smtp.office365.com:587"
set imap_authenticators = "xoauth2"
set imap_oauth_refresh_command = "~/.config/neomutt/mutt_oauth2.py ~/.config/neomutt/tokens/work"
set smtp_oauth_refresh_command = ${imap_oauth_refresh_command}
set ssl_force_tls              = "yes"
set ssl_starttls               = "yes"

set from                       = "a.tallone@oliocarli.it"
set envelope_from
set use_from = yes
set record = "+Sent"
set trash = "+Trash"
set postponed = "+Drafts"
set mail_check = 6

## Hook -- IMPORTANT!
account-hook $folder "set imap_pass=SOME_PASSWORD"
