# antigen settings
ANTIGEN_CHECK_FILES=$ZSH_CONFIG_HOME/.zsh_antigenrc
ANTIGEN_LOG=$ADOTDIR/antigen.log

# antigen init
SOURCE_RCFILE ~/antigen.zsh

# oh my zsh
antigen use oh-my-zsh
antigen bundles <<EOBUNDLES
  ag
  aliases
  autoenv
  battery
  brew
  colemak
  colored-man-pages
  colorize
  command-not-found
  compleat
  copybuffer
  copyfile
  copypath
  cp
  debian
  docker
  docker-compose
  extract
  fd
  fzf
  git
  github
  gitignore
  golang
  gpg-agent
  history
  history-substring-search
  kubectl
  kubectx
  last-working-dir
  minikube
  node
  npm
  nvm
  pep8
  pip
  pyenv
  python
  ripgrep
  rsync
  sprunge
  ssh-agent
  sudo
  systemd
  tmux
  tmuxinator
  ubuntu
  urltools
  vi-mode
  virtualenv
  virtualenvwrapper
  vscode
  web-search
  yum
  zoxide
EOBUNDLES

# other bundles
antigen bundles <<EOBUNDLES
  # Syntax highlighting bundle.
  zsh-users/zsh-syntax-highlighting

  # History
  # wulfgarpro/history-sync
  bamos/zsh-history-analysis

  # FZF
  unixorn/fzf-zsh-plugin --branch=main

  # completions
  srijanshetty/zsh-pip-completion
  zsh-users/zsh-autosuggestions
  zsh-users/zsh-completions
  3v1n0/zsh-bash-completions-fallback
  MenkeTechnologies/zsh-cargo-completion
  gantsign/zsh-plugins kompose
  gantsign/zsh-plugins kubeadm
  greymd/docker-zsh-completion
  lukechilds/zsh-better-npm-completion
  sunlei/zsh-ssh
  vasyharan/zsh-brew-services
  viasite-ansible/zsh-ansible-server
  MichaelAquilina/zsh-you-should-use
EOBUNDLES

# Tell Antigen that you're done.
antigen apply

### PLUGINS CONFIGURATIONS
# vi mode
export VI_MODE_RESET_PROMPT_ON_MODE_CHANGE=true
export VI_MODE_SET_CURSOR=true
export MODE_INDICATOR="%F{white}+%f"
export INSERT_MODE_INDICATOR="%F{yellow}+%f"
# catppuccin_zsh-syntax-highlighting
source ~/.config/zsh/catppuccin_zsh-syntax-highlighting/themes/catppuccin_mocha-zsh-syntax-highlighting.zsh 
# zsh-history-substring-search
bindkey '^[[A' history-substring-search-up
bindkey '^[[B' history-substring-search-down
bindkey -M vicmd 'k' history-substring-search-up
bindkey -M vicmd 'j' history-substring-search-down
# zsh-history
export ZSH_HISTORY_FILE_NAME=".zsh_history"
export ZSH_HISTORY_FILE="${HOME}/${ZSH_HISTORY_FILE_NAME}"
export ZSH_HISTORY_PROJ="${HOME}/.config/zsh/zsh-history"
export ZSH_HISTORY_FILE_ENC_NAME="zsh_history"
export ZSH_HISTORY_FILE_ENC="${ZSH_HISTORY_PROJ}/${ZSH_HISTORY_FILE_ENC_NAME}"
export ZSH_HISTORY_COMMIT_MSG="latest $(date)"
export HISTSIZE=1000000000
export SAVEHIST=$HISTSIZE
setopt EXTENDED_HISTORY
# fzf-zsh-plugin
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
export LESSOPEN='| lessfilter-fzf %s'
export FZF_PREVIEW_ADVANCED=true
# zsh-autosuggestions
ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=245'
ZSH_AUTOSUGGEST_CLEAR_WIDGETS+=(
    "expand-or-complete"
    "pcomplete"
    "copy-earlier-word"
)
# bindkey '^l' autosuggest-accept # ctrl-l, hjk
