#!/usr/bin/env zsh

#
# .zeditor - Zsh file loaded to export editor, visual, pager ...
#

ECHOCAT '.zeditor - Zsh file loaded to export editor, visual, pager ...'

#
# Editors
#
export EDITOR="$(which vim)"
export VISUAL="$EDITOR"
export PAGER="$(which less)"
export MANPAGER="$PAGER"
### Setting up less
# Highlight section titles in manual pages.
export LESS_TERMCAP_md="${yellow}"
if command -v lesspipe.sh &>/dev/null; then
  lesspipe.sh | source /dev/stdin
else
  ECHOCAT 'LESSOPEN: lesspipe.sh in not installed or in PATH' -i
fi
if command -v bat &>/dev/null; then
  export LESSCOLORIZER="bat --style=full --theme=catppuccin-mocha"
fi
if command -v batpipe &>/dev/null; then
  # To use batpipe, eval the output of this command in your shell init script.
  export LESSOPEN="|$(which batpipe) %s"
  export LESSOPEN
  unset LESSCLOSE
  # The following will enable colors when using batpipe with less:
  export LESS="$LESS -R"
  export BATPIPE="color"
  export LESS
  export BATPIPE
fi
if command -v nvim &>/dev/null; then
  # export EDITOR="${$(which nvim):-$EDITOR}"
  # export VISUAL="${$(which nvim):-$VISUAL}"
  # export PAGER="${$(which nvim):-$PAGER}"
  # export MANPAGER="$(which nvim) -c 'Man!' -o -"
fi
