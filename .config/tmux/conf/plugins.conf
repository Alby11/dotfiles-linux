# vim: set ft=tmux

# NOTE: ~/.config/tmux/conf/plugins.conf

# NOTE: Plugins Declaration
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'catppuccin/tmux#v1.0.3' 

set -g @plugin 'jaclu/tmux-menus'
set -g @plugin 'laktak/extrakto'
set -g @plugin 'omerxx/tmux-floax'
set -g @plugin 'omerxx/tmux-sessionx'
set -g @plugin 'schasse/tmux-jump'
set -g @plugin 'tmux-plugins/tmux-copycat'
set -g @plugin 'tmux-plugins/tmux-cowboy'
set -g @plugin 'tmux-plugins/tmux-logging'
set -g @plugin 'tmux-plugins/tmux-open'
set -g @plugin 'tmux-plugins/tmux-urlview'
set -g @plugin 'tmux-plugins/tmux-yank'

set -g @plugin 'tmux-plugins/tmux-cpu'
set -g @plugin 'jamesoff/tmux-loadavg'
set -g @plugin 'tmux-plugins/tmux-battery'
set -g @plugin 'vascomfnunes/tmux-clima'
set -g @plugin 'xamut/tmux-weather'
set -g @plugin 'arl/gitmux'

# NOTE: Plugin Options

# Configure the catppuccin plugin
set -g @catppuccin_flavor "mocha"

# WINDOWS See https://man7.org/linux/man-pages/man1/tmux.1.html#STYLES for more details.
set -g @catppuccin_window_number_position "right"
set -g @catppuccin_window_status "icon"
set -g @catppuccin_window_status_style "basic"
# set -g @catppuccin_window_left_separator ""
# set -g @catppuccin_window_middle_separator ""
# set -g @catppuccin_window_right_separator ""
# Window status icons
set -g @catppuccin_icon_window_last "󰖰 "
set -g @catppuccin_icon_window_current "󰖯 "
set -g @catppuccin_icon_window_zoom "󰁌 "
set -g @catppuccin_icon_window_mark "󰃀 "
set -g @catppuccin_icon_window_silent "󰂛 "
set -g @catppuccin_icon_window_activity "󱅫 "
set -g @catppuccin_icon_window_bell "󰂞 "
# Current window
# set -g @catppuccin_window_current_fill "icon"
set -g @catppuccin_window_current_text " #W"
set -g @catppuccin_window_current_background "#{@thm_sky}"
# Default window
# set -g @catppuccin_window_default_fill "icon"
set -g @catppuccin_window_default_text " #W"
set -g @catppuccin_window_default_background "#{@thm_peach}"

# STATUS
set -g @catppuccin_status_default "yes"
set -g @catppuccin_status_position "top"
set -g @catppuccin_status_background "none"
set -g @catppuccin_status_fill "all"
# set -g @catppuccin_status_left_separator  ""
# set -g @catppuccin_status_right_separator " "
# set -g @catppuccin_status_connect_separator "yes"

# PANE
# set -g @catppuccin_pane_status_enabled "no"
# set -g @catppuccin_pane_number_position "right"
# set -g @catppuccin_pane_border_status "off" # See `pane-border-status`
# set -g @catppuccin_pane_default_text "#{b:pane_current_path}"
# set -g @catppuccin_pane_color "#{@thm_green}"
# set -g @catppuccin_pane_background_color "#{@thm_surface_0}"
# set -g @catppuccin_pane_border_style "fg=#{@thm_overlay_0}"
# set -g @catppuccin_pane_active_border_style "#{?pane_in_mode,fg=#{@thm_lavender},#{?pane_synchronized,fg=#{@thm_magenta},fg=#{@thm_lavender}}}"

# set -g _left_separator "█"
# set -g _right_separator "█"
# set -g _left_separator  " "
# set -g _right_separator ""

set -g @catppuccin_directory_text "#{pane_current_path}"
set -g @catppuccin_directory_color "#{@thm_rosewater}"

set -g @catppuccin_battery_color "#{@thm_red}"
set -g @tmux-weather-format "%l:+%t+%c"
set -g @tmux-weather-units "m"
set -g @catppuccin_weather_color "#{@thm_lavender}"
#
set -g @catppuccin_gitmux_color "#{@thm_flamingo}"
#
set -g @catppuccin_date_time_text "%Y-%m-%d %H:%M:%S"
set -g @catppuccin_date_time_color "#{@thm_blue}"

# gitmux
if " ! command -v gitmux" \
   "run 'go install github.com/arl/gitmux@latest'" 
set -g @catppuccin_gitmux_text "#(gitmux -cfg $HOME/.gitmux.conf \"#{pane_current_path}\")"

# Make the status line pretty and add some modules
# Load catppuccin
# For manual install use `run ~/.config/tmux/plugins/catppuccin/tmux/catppuccin.tmux`
# For TPM, instead use `run ~/.config/tmux/plugins/tmux/catppuccin.tmux`
if-shell -b '[ -f ~/.config/tmux/plugins/tmux/catppuccin.tmux ]' {
  run '~/.config/tmux/plugins/tmux/catppuccin.tmux'
}

  run '~/.config/tmux/plugins/tmux/catppuccin.tmux'
# set -g @catppuccin_status_modules_left ""
set -g status-left-length 300
set -g status-left ""
# set -ga status-left "#{E:@catppuccin_status_session}"
# set -ga status-left "#{E:@catppuccin_status_user}"
# set -ga status-left "#{E:@catppuccin_status_host}"
# set -ga status-left "#{E:@catppuccin_status_directory}"
set -g status-left "#{E:@catppuccin_status_session}#{E:@catppuccin_status_directory}"

# set -g @catppuccin_status_modules_right ""
set -g status-right-length 300
set -g status-right ""
# set -gaF status-right "#{E:@catppuccin_status_weather}"
# set -gaF status-right "#{E:@catppuccin_status_battery}"
# set -gaF status-right "#{E:@catppuccin_status_gitmux}"
# set -ga  status-right "#{E:@catppuccin_status_date_time}"
set -gF status-right "#{E:@catppuccin_status_battery}#{E:@catppuccin_status_weather}#{E:@catppuccin_status_gitmux}#{E:@catppuccin_status_date_time}"

# Sessionx
set -g @sessionx-bind 'space'
set -g @sessionx-filter-current 'true'
set -g @sessionx-preview-location 'top'
set -g @sessionx-preview-ratio '65%'
set -g @sessionx-window-height '80%'
set -g @sessionx-window-width '75%'
set -g @sessionx-tmuxinator-mode 'on'
set -g @sessionx-bind-window-mode 'alt-w'
set -g @sessionx-bind-tree-mode 'alt-t'
set -g @sessionx-bind-new-window 'alt-c'
set -g @sessionx-bind-rename-session 'alt-r'
set -g @sessionx-bind-kill-session 'alt-q'
set -g @sessionx-bind-configuration-path 'alt-e'
set -g @sessionx-bind-back 'alt-b'
set -g @sessionx-ls-command 'eza -a --icons --group-directories-first --color always'
set -g @sessionx-filtered-sessions 'scratch'

# Floax
set -g @floax-bind '-n M-p'
set -g @floax-border-color 'white'
set -g @floax-text-color 'white'

# tmux-yank
set -g @yank_selection 'clipboard' # or 'secondary' or 'primary'

# extrakto
set -g @extrakto_clip_tool 'wl-copy'
set -g @extrakto_editor 'nvim'
set -g @extrakto_fzf_unset_default_opts 'false'

# tmux-open
unbind o
unbind -T root o
unbind C-o
unbind -T root C-o
set -g @open-D 'https://www.duckduckgo.com/?q='
set -g @open-B 'https://www.bing.com/search?q='
set -g @open-S 'https://www.google.com/search?q='


# tmux-menus
set -g @menus_trigger F12

# tmux-jump
unbind j
unbind -T root j
set -g @jump-key 'j' # j is the default key
set -g @jump-bg-color '\e[0m\e[90m'
set -g @jump-fg-color '\e[1m\e[31m'
# keys will be at the left of the word without overlap
set -g @jump-keys-position 'off_left'


# tmux-logging
set -g history-limit 100000
set -g @logging-path "${HOME}/tmp"
